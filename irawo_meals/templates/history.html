{% extends 'layout.html' %}

{% block title %}
    History
{% endblock %}

{% block main %}
    <h1>
        {{ username }}'s History
    </h1>

    <br>

    <form action="/history" method="post">
        <input type="hidden" name="user_id" value="{{ user_id }}">
        <input type="hidden" name="username" value="{{ username }}">
        <div class="mb-3">
            <label for="start_date">From: </label>
            <input type="date" name="start_date" value="{{ start_date }}">
        </div>
        <div class="mb-3">
            <label for="end_date">To: </label>
            <input type="date" name="end_date" value="{{ end_date }}">
        </div>
        <button class="btn-primary" type="submit">
            Go
        </button>
    </form>

    <br>

    <div class=" container table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                  <th scope="col">Day</th>
                  <th scope="col">Lunch</th>
                  <th scope="col">Dinner</th>
                  <th scope="col">Breakfast<br>(next day)</th>
                </tr>
            </thead>
            <tbody>
                {% for record in records %}
                    <tr>
                        <td>
                            {{ record["date"] }}
                        </td>
                        <td>
                            {{ record["lunch"] }}
                        </td>
                        <td>
                            {{ record["dinner"] }}
                        </td>
                        <td>
                            {{ record["breakfast"] }}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}